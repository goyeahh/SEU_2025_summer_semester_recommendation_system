body {
    background-color: #f8f9fa; /* 这是一个备用的浅灰色背景 */
    /* 我们从一个免费纹理网站引用一张图片作为背景，让页面更有质感 */
    background-image: url('https://www.transparenttextures.com/patterns/subtle-zebra-3d.png');
    color: #343a40; /* 设置一个更柔和的深灰色作为主要文字颜色 */
    font-family: 'Noto Sans SC', sans-serif;

    padding-top: 5rem; /* 为固定的导航栏留出大约80像素的空间 */
}

/* 让首页那个大标题块的背景变成纯白，并加上一点边框，看起来更干净 */
.bg-light {
    background-color: #ffffff !important; /* !important 用于确保覆盖掉Bootstrap的默认样式 */
    border: 1px solid #dee2e6;
}

/* 为卡片增加平滑过渡的动画效果 */
.card {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    border: none; /* 移除卡片默认的边框，让阴影效果更突出 */
}

/* 定义鼠标悬停在卡片上时的样式 */
.card:hover {
    transform: translateY(-5px); /* 鼠标悬停时，卡片向上移动5像素，产生“上浮”效果 */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15); /* 增加一个更明显的阴影，让“上浮”感觉更立体 */
}

/* ▼▼▼ 首页专属的背景样式 ▼▼▼ */
body.homepage {
    background-image: url('../images/hero-background.jpg');
    background-size: cover; /* 让图片铺满整个屏幕 */
    background-position: center center; /* 图片居中显示 */
    background-repeat: no-repeat; /* 图片不重复 */
    background-attachment: fixed; /* 固定背景，这样页面滚动时背景图不动 */
}

/* 这是一个可选的技巧：为背景添加一个半透明的黑色遮罩层 */
/* 这样可以使背景变暗，让前景的白色文字（比如导航栏）更清晰 */
body.homepage::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* 0.5代表50%透明度的黑色 */
    z-index: -1; /* 把遮罩层放在最底层，内容的后面 */
}

/* --- 首页内容美化 --- */

/* 让首页的大标题区域背景透明，并改变文字颜色 */
body.homepage .p-5.bg-body-tertiary {
    background-color: transparent !important; /* !important 确保覆盖 Bootstrap 的样式 */
    border: none; /* 移除我们之前加的边框 */
    color: #ffffff; /* 将内部所有文字变成白色 */
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); /* 给文字加上一点阴影，让它更突出 */
}

/* 同样地，让内部的段落文字也更清晰 */
body.homepage .p-5 p {
    color: #f0f0f0; /* 使用一个柔和的灰白色，避免过于刺眼 */
}

/* 改变“热门电影”标题的颜色 */
body.homepage h2 {
    color: #ffffff;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); /* 同样加上文字阴影 */
}

/* 为了让卡片本身和背景区分开，给卡片一个半透明的“毛玻璃”效果 */
body.homepage .card {
    background-color: rgba(255, 255, 255, 0.1); /* 10%透明度的白色 */
    backdrop-filter: blur(10px); /* 毛玻璃效果，让背景模糊一点（在支持的浏览器上效果很酷） */
    border: 1px solid rgba(255, 255, 255, 0.2); /* 半透明的白色边框 */
}

/* 改变卡片内部文字的颜色 */
body.homepage .card .card-title {
    color: #ffffff; /* 卡片标题为白色 */
}

body.homepage .card .card-text {
    color: #d0d0d0; /* 卡片次要文字（年份）为灰白色 */
}

/* --- 导航栏美化 --- */

/* ▼▼▼ 新增一个通用导航栏样式 ▼▼▼ */
.navbar {
    background-color: #212529; /* 为所有导航栏设置一个默认的深色背景 */
}

/* 1. 让导航栏背景在首页透明化 */
body.homepage .navbar {
    background-color: transparent !important;
    /* 从透明到黑色的背景色过渡动画 */
    transition: background-color 0.3s ease-in-out;
}

/* 2. 导航栏标题字体加粗 */
.navbar-brand {
    font-weight: bold;
}

/* 3. 让导航链接在未被选中的状态下是白色 */
.navbar .nav-link {
    color: rgba(255, 255, 255, 0.8); /* 使用80%透明度的白色，而不是纯白，更有质感 */
    font-weight: 500;
    margin: 0 0.5rem; /* 给链接之间增加一点间距 */
    transition: color 0.2s; /* 颜色变化动画 */
}

/* 4. 关键：让“首页”链接在首页时显示为红色 */
body.homepage .navbar-nav .nav-link[href="/"] {
    color: #dc3545; /* Bootstrap 的危险色（红色）变量 */
}

/* 5. 鼠标悬停在链接上时，也变成红色 */
.navbar .nav-link:hover {
    color: #dc3545;
}

/* 6. 定义一个新样式，用于页面向下滚动时，给导航栏一个深色背景，避免和白色内容混在一起 */
.navbar-scrolled {
    background-color: #212529 !important; /* Bootstrap的深色 */
}

/* --- 页脚美化 --- */

/* 只在首页(body.homepage)才把页脚文字变白 */
body.homepage footer .text-muted {
    color: rgba(255, 255, 255, 0.7) !important;
}

/* --- 搜索栏美化 --- */

.search-bar-container {
    display: flex; /* 让输入框和按钮在同一行水平排列 */
    border-radius: 50px; /* 超级关键：让整个容器变成圆形边缘 */
    overflow: hidden; /* 这个属性会把超出圆形边缘的直角部分隐藏掉 */
    border: 1px solid rgba(255, 255, 255, 0.5); /* 给整个搜索栏一个淡淡的边框 */
    background-color: #ffffff; /* 确保容器背景是白色 */
}

/* 针对输入框的样式 */
.search-bar-container .form-control {
    border: none; /* 移除输入框自己的边框 */
}

/* 移除点击输入框时的蓝色辉光效果，让它更干净 */
.search-bar-container .form-control:focus {
    box-shadow: none; 
}

/* 针对按钮的样式 */
.search-bar-container .search-button {
    border: none; /* 移除按钮自己的边框 */
    border-radius: 0; /* 移除按钮自己的圆角，让它和输入框无缝拼接 */
    background-color: #dc3545; /* 设置背景为红色 */
}

/* --- 内页（非首页）通用样式 --- */

/* 为所有非首页的 h1, h3, h4 以及 lead 段落设置清晰的深色 */
/* :not(.homepage) 这个选择器表示“只要 body 没有 homepage 这个 class” */
body:not(.homepage) h1,
body:not(.homepage) h3,
body:not(.homepage) h4,
body:not(.homepage) .lead,
body:not(.homepage) p { /* 确保所有普通段落也是深色 */
    color: #212529; /* 使用一个非常深的灰色，接近黑色 */
}

/* 确保详情页的深色卡片内部文字是白色的 */
.movie-detail-card .card-title,
.movie-detail-card .card-text {
    color: #ffffff !important; /* 增加 !important 确保这条规则的优先级最高 */
}

/* --- 星级评分美化 (支持半星, 使用 Font Awesome) --- */

.star-rating {
    cursor: pointer;
    display: inline-block;
}

.star-rating i {
    font-size: 2rem;
    color: #6c757d; /* 默认空心星的颜色（灰色） */
    transition: color 0.2s ease-in-out, transform 0.2s ease-in-out; /* 增加 transform 过渡 */
    padding: 0 2px;
}

/* 鼠标悬停时给一点放大效果，增加交互感 */
.star-rating i:hover {
    transform: scale(1.2);
}

/* 被JS点亮的星星（无论是半星还是全星）都用这个颜色 */
.star-rating i.active {
    color: #ffc107; /* 金色 */
}

/* --- 评论区美化 (最终简化版) --- */

/* 1. 评论区在首页(homepage)的样式 */
body.homepage .comment {
    padding: 1rem;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 0.5rem;
}
body.homepage .comment .comment-username {
    color: #ffffff;
}
body.homepage .comment .comment-text {
    color: #adb5bd;
}
body.homepage .comment .text-muted {
    color: rgba(255, 255, 255, 0.7) !important;
}

/* 2. 评论区在内页(非homepage)的样式 */
body:not(.homepage) .comment {
    padding: 1.25rem;
    background-color: #f8f9fa;
    border-radius: 0.5rem;
    border: 1px solid #dee2e6;
}
body:not(.homepage) .comment .comment-username {
    color: #212529; /* 明确指定用户名为深色 */
}
body:not(.homepage) .comment .comment-text {
    color: #495057; /* 明确指定评论内容为标准深灰色 */
}

/* --- 用户头像及下拉菜单美化 --- */
.user-avatar {
    display: inline-flex; /* 使用 flex 布局方便居中 */
    align-items: center;  /* 垂直居中 */
    justify-content: center; /* 水平居中 */
    width: 32px;  /* 设置宽度 */
    height: 32px; /* 设置高度 */
    border-radius: 50%; /* 关键：将div变成圆形 */
    background-color: #0d6efd; /* 一个默认的蓝色背景 (Bootstrap的主色) */
    color: #ffffff; /* 文字颜色为白色 */
    font-weight: bold;
    font-size: 1rem;
    /* user-select: none; 可以防止用户不小心选中头像里的文字 */
    user-select: none;
}

/* --- 相似电影卡片美化 --- */
.similar-movie-card {
    border: none;
    background-color: transparent !important; /* 让卡片背景完全透明 */
    transition: transform 0.2s ease-in-out;
}

.similar-movie-card:hover {
    transform: scale(1.05); /* 鼠标悬停时轻微放大，增加交互感 */
}

.similar-movie-card img {
    border-radius: 0.375rem; /* 给图片也加上圆角 */
    box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* 给图片加一点阴影，更有立体感 */
}

.similar-movie-card .card-body {
    padding: 0.5rem 0; /* 调整文字和图片之间的间距 */
}

.similar-movie-card .card-title {
    color: #212529; /* 确保标题是深色 */
    font-weight: bold;
}

/* --- 影片分类页美化 --- */
.filter-label {
    color: #adb5bd;
    font-weight: bold;
}

.filter-pills .nav-link {
    color: #adb5bd; /* 默认文字颜色 */
    padding: 0.375rem 0.75rem;
    margin: 0.25rem;
    border: 1px solid transparent;
    transition: all 0.2s ease-in-out;
}

.filter-pills .nav-link:hover {
    color: #ffffff;
    background-color: #343a40; /* 悬停背景色 */
}

/* 当前选中的筛选条件的样式 */
.filter-pills .nav-link.active {
    color: #ffffff;
    background-color: #dc3545; /* 选中的红色 */
    border-color: #dc3545;
    font-weight: bold;
}